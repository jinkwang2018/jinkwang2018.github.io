---
layout: post
title:  "JAVA-AWS"
date:   2018-07-07 12:00:00
author: 강진광
categories: [Aws]
comments: true
tags:
  - AWS
  - EC2
  - Putty
  - AWS RDS
  - Puttygen
  - Ubuntu
  - Putty
  - 
---
# [AWS 사용하기]

### 1. 회원가입을 진행한다. (해외결제가 가능한 카드를 사용해야 하며, 모든 것은 영어로 작성한다. )
### 2. 로그인을 한다.
### 3. 우측 상단의 Region을 확인하시고, 서울이 아니라면 서울로 변경합니다.
### 4. service의 EC2를 클릭한다.
### 5. EC2 대시보드 중앙에 있는 인스턴스 시작 버튼을 클릭해서 생성페이지로 이동합니다.
### 6. Ubuntu Server를 사용한다.
### 7. 다음:인스턴스 세부 정보 구성을 클릭한다.
### 8. 네트워크, 서브넷에선 디폴트값을 그대로 사용한다. 다음 : 스토리지 추가를 클릭한다.
### 9. 스토리지가 기본값으로 8GB가 되어있는데. 30GB까지가 프리티어로 사용할수 있기 때문에 30으로 변경합니다. 후에 다음:태그 추가 버튼을 클릭합니다.
### 10. 태그는 인스턴스에 할당하는 키 값을 얘기합니다. 여러 인스턴스들이 있을 경우 이를 태그별로 구분하면 검색이나 그룹짓기 편하기 때문에 여기서 본인 서비스의 인스턴스를 나타낼 수 있는 값으로 등록합니다. 다음:보안 그룹 구성을 클릭합니다.
### 11. 이 보안그룹 부분이 굉장히 중요한 부분입니다. 보통 AWS 요금이 100만원, 300만원이 넘게 청구되는 대부분의 경우가 이 보안그룹을 잘못설정해서 타인이 무단으로 접속하여 발생한 경우입니다. 유형 SSH, 22포트는 AWS EC2에 터미널로 접속할때를 얘기합니다. 지정된 IP외에는 접근을 차단하기 때문에 귀찮다고 전체 오픈 (0.0.0.0/0, ::/0)해버리면 바로 외국분들의 비트코인 채굴이 본인 EC2 서버에서 진행되고 있음을 확인할 수 있습니다. 그래서 본인 집의 IP를 기본적으로 추가하고 (내 IP를 선택하면 현재 접속한 장소의 IP가 자동 지정됩니다.) 카페와 같은 집 외에 다른 장소에서 접속하실땐 해당 장소의 IP를 다시 SSH 규칙을 추가하시는게 안전합니다.
### 12. HTTPS, HTTP는 외부에서 이 사이트의 웹서비스 접근할때 사용하는 유형이기 때문에 80, 443 포트를 열어놓습니다. (이걸 닫으면 외부에서 서비스에 접근을 못하게 됩니다.) 보안 규칙이 다 등록되셨으면 검토 및 시작 버튼을 클릭합니다. 아래와 같이 등록 정보를 잘 확인후, 시작 버튼을 클릭합니다.
### 13. 시작 버튼을 클릭하시면 키페어 생성 Modal이 등장합니다. 이 키페어를 갖고 있어야만 해당 인스턴스에 접근이 가능하기 때문에 잘 보관하셔야 합니다. pem키를 다운 받으신뒤, 인스턴스 시작 버튼을 클릭합니다. 인스턴스 ID를 클릭하시면 생성한 인스턴스 페이지로 이동합니다.
### 14. 인스턴스 상태가 running가 되면 정상적으로 인스턴스가 생성 & 실행된것입니다.
### 15. 이대로 두면 EC2 인스턴스에 고정 IP가 할당된 상태가 아니라서, 인스턴스를 재시작할때마다 새 IP가 할당되서 도메인 연결을 할수가 없게 됩니다. 그래서 고정 IP를 할당하겠습니다.
### 16. AWS의 고정 IP를 Elastic IP라고 하는데요. 
### 17. EC2 인스턴스 페이지의 좌측을 보시면 탄력적IP라고 있습니다. 해당 버튼을 클릭하겠습니다.
### 18. 새주소 할당 버튼을 클릭합니다. 그러면 고정 ip가 생성된다. 닫기 버튼을 클릭하신뒤, 방금 생성한 탄력적 IP를 우클릭하신뒤 주소 연결을 선택합니다.